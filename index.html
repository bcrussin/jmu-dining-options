<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="css/global.css" />
    <link rel="stylesheet" type="text/css" href="css/index.css" />

    <title>JMU Dining Options</title>
  </head>
  <body>
    <header>
      <div id="header-content">
        <img id="nav-title" src="images/jmu-logo.svg" />

        <nav>
          <a href="index.html">Home</a>
          <a href="html/locations.html">Locations</a>
          <a href="html/payment-options.html">Payment Options</a>
          <a href="html/about.html">About</a>
        </nav>

        <button id="nav-expand" onclick="toggleNavbar()">
          <img id="nav-expand-icon">
        </button>
      </div>
    </header>

    <main>
      <aside id="sidebar">
        <div class="location-info" onclick="toggleSidebar()">
          <span class="flex-center">
            <img class="icon" src="images/icons/pin.svg" id="location-pin" />
            <h2 id="location-name">D-Hall</h2>
            <img id="sidebar-arrow" src="images/icons/expand-arrow.svg"></div>
          </span>

          <a id="location-link" target="_blank">
            <img id="location-image" src="images/d-hall-location.jpeg" />
          </a>

          <span id="location-image-hint">&uarr; Click to open interactive map &uarr;</span>
        </div>

        <div id="search-container">
          <input type="text" id="search-filter" placeholder="Search" onkeyup="filterSearch(this.value)">
          <button id="search-clear" onclick="clearSearch()">&times;</button>
        </div>

        <form id="filters">
          <span>Favorited:</span>
          <label for="favorite-filter" class="toggle">
            <input
              type="checkbox"
              id="favorite-filter"
              onchange="filterRestaurants()"
            />
          </label>

          <span>Currently Open:</span>
          <label for="open-filter" class="toggle">
            <input
              type="checkbox"
              id="open-filter"
              onchange="filterRestaurants()"
            />
          </label>

          <label for="location-filter">Location: </label>
          <select id="location-filter" onchange="filterRestaurants()">
            <option selected value>All Locations</option>
            <option value="d-hall">D-Hall</option>
            <option value="dukes-dining">Dukes Dining</option>
            <option value="grace-street">Grace Street</option>
            <option value="east-campus">East Campus</option>
          </select>

          <label for="payment-filter">Payment Options: </label>
          <select id="payment-filter" onchange="filterRestaurants()">
            <option selected value>All Options</option>
            <option value="punches">Meal Punches</option>
            <option value="dining">Dining Dollars</option>
            <option value="flex">Flex</option>
            <option value="card">Debit/Credit</option>
            <option value="cash">Cash</option>
            <option value="gift">Gift Card</option>
          </select>
        </form>

        <button id="reset-filters" onclick="resetFilters()">Reset</button>
      </aside>

      <!-- Dynamic Content -->


      <div class="container" tabindex="-1">
        <div id="cards-placeholder">No restaurants found</div>
        <div id="location-content">
          <!-- Dynamically generated cards go here -->
        </div>
      </div>
    </main>

    <!-- Card template, populated using JS -->
    <template id="card-template">
      <div class="card-header">
        <h3 class="card-name"></h3>
      </div>

      <img class="card-image" />

      <div class="card-options">
        <button class="favorite" tabindex="0"><img class="icon favorite-icon"></button>
      </div>

      <div class="card-footer">
        <div class="status"></div>
        <div class="hours"></div>
      </div>
    </template>

    <!-- Restaurant details modal -->
    <div id="details-backdrop"></div>
    <dialog id="details-modal">

      <div id="details">
        <div class="card-options">
          <button id="details-favorite" class="favorite" tabindex="0" onclick="favoriteRestaurant()">
            <img id="details-favorite-icon" class="icon favorite-icon">
          </button>
        </div>

        <h2 id="details-name"></h2>

        <span class="flex-center">
          <img class="icon" id="details-address-icon" src="images/icons/pin.svg" />
          <a id="details-address" target="_blank"></a>
        </span>

        <div id="details-content"></div>

        <div id="details-payment">

          <div id="details-punches" class="payment-option">
            <img src="images/icons/ticket.svg">
            Punches
          </div>

          <div id="details-dining" class="payment-option">
            <img src="images/icons/wallet.svg">
            Dining Dollars
          </div>

          <div id="details-flex" class="payment-option">
            <img src="images/icons/flex.svg">
            Flex
          </div>

          <div id="details-card" class="payment-option">
            <img src="images/icons/credit-card.svg">
            Credit/Debit
          </div>

          <div id="details-cash" class="payment-option">
            <img src="images/icons/cash.svg">
            Cash
          </div>

          <div id="details-gift" class="payment-option">
            <img src="images/icons/gift-card.svg">
            Gift Card
          </div>

        </div>

        <div id="details-controls">
          <a id="view-on-map" target="_blank">View on Map</a>
          <button id="close-details" onclick="closeDetails()">Close</button>
        </div>
      </div>

    </dialog>

    <script src="scripts/global.js"></script>
    <script src="scripts/index.js"></script>
  </body>
</html>
